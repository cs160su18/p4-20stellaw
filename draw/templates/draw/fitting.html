{% load static %}

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>P4 fitting</title>

    <link rel="stylesheet" type="text/css" href="{% static 'draw/vendor/bootstrap/css/bootstrap.min.css' %}">
    <script type="text/javascript" src="{% static 'draw/vendor/jquery/jquery-3.3.1.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'draw/vendor/paper/paper-full.min.js' %}"></script>

    <style type="text/css">
    </style>

</head>
<body>
  <div class="container">
    <div class="row">
      <div class = "col-12">
        <button id="button"type="button" class="btn btn-primary" onclick=sendDesign()>Send</button>
      </div>
    </div>
    <div class="row">
      <div class = "col-12">
          <div style="position: relative;">
  <svg style="position: absolute;left: 0px; top:0px; z-index: 2;" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="200.51968" height="620.16534" viewBox="0 0 53.054154 164.08534" version="1.1" id="svg8" sodipodi:docname="LargeDisplay.svg" inkscape:version="0.92.3 (2405546, 2018-03-11)">
  <defs id="defs2"/>
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="3.959798" inkscape:cx="145.21048" inkscape:cy="505.5246" inkscape:document-units="mm" inkscape:current-layer="g835" showgrid="false" inkscape:snap-object-midpoints="true" inkscape:snap-grids="true" inkscape:snap-page="true" inkscape:window-width="1366" inkscape:window-height="705" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="1" units="px"/>
  <metadata id="metadata5">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(0,-132.91446)">
    <g id="g835" transform="matrix(0.26458333,0,0,0.26458333,32.731643,22.055165)">
      <path id="path817" d="m 52.226662,668.17041 c -0.361348,-0.9636 -1.324935,-4.45662 -2.529421,-8.55187 -2.288531,-7.70873 -5.29975,-18.18778 -6.865594,-22.28304 -6.865585,-17.58554 -10.479042,-31.07581 -9.515456,-35.05061 1.686284,-7.10649 5.299751,-52.63616 5.6611,-61.91072 0.481798,-9.395 -6.865585,-14.69476 -11.20175,-16.38104 -1.927174,-0.7227 -6.624686,-4.09526 -9.033657,-8.19052 -2.288531,-3.85437 -2.047632,-9.75636 -1.324945,-12.04489 0.843147,-3.01122 1.565844,-13.12892 1.686293,-14.33341 0,-0.12044 0,-0.12044 0,-0.24089 2.288522,-1.44539 4.456604,-3.49303 5.901989,-6.26335 4.938412,-8.91322 11.442649,-36.13465 -2.89077,-44.32517 -7.588281,-4.33616 -14.092517,-3.61347 -18.1877719,-2.16808 -5.0588611,1.68627 -9.3950161,5.42019 -11.0812991,9.51546 -2.047633,4.81795 -4.336164,25.29425 2.168082,37.70049 0.963586,1.80673 2.047632,3.37257 3.252118,4.6975 0.240899,2.64987 0.240899,8.43142 -1.084036,11.08129 -2.168082,4.21572 -2.649881,4.81796 -5.781549,5.1793 -3.733917,0.36135 -12.044886,-1.68628 -15.537904,-3.25212 -2.64987,-1.20448 -5.781539,-1.20448 -8.672318,0 -0.120449,0 -0.120449,0 -0.240899,0.12045 -0.12045,0 -0.240889,0.12045 -0.361339,0.12045 -4.336164,1.92719 -7.829181,6.1429 -9.635915,11.44265 -1.204485,3.61346 -2.64987,14.57431 -4.215704,26.01695 -1.204496,8.79276 -2.408982,17.94688 -3.252119,21.80124 -1.084046,4.6975 -1.927183,9.51546 -2.770329,13.73117 -0.602238,3.61346 -1.324936,7.10648 -1.927183,9.6359 -1.084036,4.21572 -1.565835,14.93567 0,23.84887 1.686293,9.39502 6.624686,55.04512 6.142897,68.17406 -0.120449,4.2157 -0.602248,8.91321 -1.084046,13.97207 -1.084036,10.71995 -2.288522,21.80124 0.361349,28.78726 0,0 0,0 0,0 -2.168072,11.68355 -10.117703,64.3197 -10.719951,76.96682 -0.361339,7.94962 -6.865585,22.28304 -12.526679,34.80972 -2.77032,6.14289 -5.420201,11.92444 -7.226935,16.62194 -4.4566,11.92444 -6.74513,41.67531 -8.19052,61.30847 -0.36135,4.6975 -0.60224,8.67232 -0.96359,11.56309 -0.24089,1.92718 -0.36134,4.33615 -0.60224,6.86558 -1.68628,17.94689 -4.33615,45.04787 -3.73391,53.72015 0.36135,5.78162 -1.20449,9.15412 -2.64988,12.28582 -0.84313,1.8067 -1.68627,3.493 -1.92717,5.4202 -0.12045,0.7227 -0.2409,1.5658 -0.36135,2.2885 -0.72269,3.8544 -1.44539,7.5883 0.7227,11.2017 1.20448,2.1681 1.92718,4.2158 2.16808,5.1793 0,0.1205 0,0.1205 0,0.241 0,1.3249 1.08403,2.4089 2.40897,2.4089 h 7.94961 c 5.781549,0 8.672318,-0.9635 9.876804,-3.1316 1.324945,-2.6499 -0.602238,-5.5407 -1.686274,-6.986 -1.084046,-1.6864 -1.204496,-6.0225 -1.324945,-9.8769 -0.12044,-3.3726 -0.12044,-6.7451 -0.722697,-9.7564 -0.843138,-3.7338 -0.963588,-9.87672 -1.204488,-17.58545 -0.12045,-5.1793 -0.36134,-10.96085 -0.72269,-17.22419 -0.96359,-14.93566 14.574316,-73.11245 19.874067,-84.55508 3.131669,-6.74515 5.179301,-21.07856 6.745135,-32.76209 0.843147,-6.3838 2.047633,-14.33342 2.77033,-15.89925 3.01121,-3.13167 8.913218,-15.05611 11.201739,-22.76483 2.288522,-7.34739 24.210222,-66.96958 29.630422,-80.94164 4.577044,-11.80398 8.070071,-37.33914 9.154107,-44.80697 h 5.5406501 c 2.047623,12.88803 12.7675729,80.09848 15.1765439,90.09575 1.324944,5.54064 2.52943,16.86284 3.613476,26.86008 1.084036,9.99726 2.047632,18.66957 3.011219,22.40349 1.324935,4.69751 1.686284,10.96085 1.084036,18.42868 -0.240899,3.01121 2.408982,61.91071 3.854367,82.86881 1.445385,21.07854 -0.361349,43.72293 -0.963597,47.69775 -0.240889,1.32493 -0.481788,4.93839 -0.963587,10.11769 -0.963587,10.96084 -2.408972,29.26905 -3.854356,33.48475 -0.361358,1.3249 -0.843147,2.5294 -1.204495,3.6135 -1.204486,3.493 -2.168082,6.1429 -0.722698,8.07 0.843147,1.0841 2.047633,1.6864 3.854366,1.6864 h 17.465087 c 0.963587,0 1.806734,-0.6023 2.168082,-1.4454 0.12044,-0.241 2.529421,-5.5407 -0.120449,-9.9973 -1.806734,-3.0112 -3.252128,-9.9973 -3.493018,-16.1402 0,-1.4454 -0.120449,-3.1316 -0.240899,-4.9383 -0.240899,-6.50424 -0.602247,-15.41749 0,-19.6332 0.361339,-2.64987 1.565835,-19.03091 3.011219,-37.94138 1.686284,-21.92169 3.493018,-46.85461 4.577064,-57.4541 2.047622,-20.71721 -2.168082,-39.38678 -5.6611,-54.32244 -3.252118,-13.97207 -1.324935,-38.42319 -0.722697,-46.37281 0,-0.72268 0.12045,-1.32493 0.12045,-1.80672 0.361348,-5.54065 2.408981,-44.68654 2.408981,-54.20199 1.686284,-2.04764 2.77032,-5.54065 3.974805,-9.75636 0.361349,-1.20448 0.602248,-2.28853 0.843147,-2.89077 0.722688,-1.68629 1.324935,-5.4202 2.168072,-10.8404 0.361349,-2.52943 0.843147,-4.9384 1.204496,-6.74513 1.204486,-6.38379 -1.565834,-14.69476 -2.047633,-16.26059 z M 32.352605,533.62904 c -1.686284,5.4202 -5.420201,14.5743 -8.31098,17.10373 -0.481789,0.4818 -0.843137,1.08405 -0.843137,1.68629 -0.12045,2.16808 -0.481799,7.10648 -0.963587,10.8404 -2.529431,-1.20449 -5.901997,-1.6863 -9.274565,-1.6863 4.938401,-13.12892 12.406233,-30.3531 13.490269,-32.88253 1.324936,0.60225 4.095266,2.16809 5.902,4.93841 z M 3.3244311,668.89309 h -0.481798 c 0,0 0,-0.12045 0,-0.12045 -0.602238,-2.04762 -4.0952651,-22.88527 -5.7815391,-38.42318 3.9748061,-0.48179 7.8291721,-1.32494 11.683538,-2.40898 4.938401,10.23816 10.47905,20.59676 11.201737,21.80124 0,0.12045 0.12045,0.12045 0.12045,0.12045 -8.310969,6.98604 -14.6947549,16.0197 -16.7423879,19.03092 z m -6.2633371,0 c -3.974815,-4.81795 -10.719951,-8.67231 -17.103738,-11.44263 0.12045,-0.12045 0.24089,-0.36135 0.361339,-0.60225 0.843147,-2.28852 2.047643,-14.09251 3.131679,-25.77606 0.240899,0 0.602238,0 0.843137,0 2.52943,0 5.179301,-0.12044 7.949621,-0.24089 1.565834,13.61071 4.336164,32.15984 5.661099,38.06183 z M 20.789516,567.83651 c -2.77032,3.13167 -6.022447,6.26335 -7.226933,6.74514 -1.204495,0.48179 -1.806733,1.92718 -1.324945,3.13167 0.361359,0.96358 1.324945,1.44539 2.168082,1.44539 0.361349,0 0.602248,0 0.963597,-0.24091 0.12045,-0.12045 0.361349,-0.12045 0.602238,-0.2409 -1.445385,3.37258 -6.745135,15.89925 -7.347373,21.07856 -0.12045,0.72269 0,1.44538 0.12045,2.16808 -0.12045,0 -0.12045,0 -0.2409,0.12045 -1.2044849,0.48179 -2.2885309,0.96358 -3.4930169,1.32493 -0.481798,-7.46783 1.084046,-17.82643 4.5770529,-31.0758 0.481798,-1.68629 1.084036,-3.73391 1.927183,-6.02244 3.854366,0 7.467832,0.36135 9.274565,1.56583 z m -47.697745,46.25235 c 0.963587,-3.01122 1.806734,-5.29974 2.288522,-7.22692 1.084036,0.36135 2.77033,0.96359 5.058852,1.56583 -0.361339,4.57706 -0.843137,11.08129 -1.445385,17.82643 -4.697503,-0.2409 -8.31097,-0.60224 -9.515455,-0.72269 1.324935,-4.57706 2.529421,-8.31097 3.613466,-11.44265 z m 12.044887,-4.6975 c 1.806723,0.24091 3.733916,0.4818 5.901988,0.60225 0,4.09525 0.12045,7.94962 0.361349,11.20174 0.120449,1.44539 0.240899,3.01123 0.361348,4.81795 -2.77032,0.2409 -5.4202,0.2409 -7.949621,0.2409 0.602238,-6.62469 1.084036,-12.88802 1.324936,-16.86284 z m 10.96084,11.56309 c -0.240899,-3.25212 -0.240899,-6.98604 -0.361339,-11.08129 1.686274,-0.12044 3.37255807,-0.36135 5.17930107,-0.60225 0.12044003,0.36136 0.24088903,0.84315 0.36133903,1.2045 0.843147,3.13166 2.890769,7.94962 5.299751,13.00847 -3.252119,0.96359 -6.62468603,1.68628 -10.1177041,2.04763 -0.120449,-1.56583 -0.240899,-3.13168 -0.361348,-4.57706 z m 9.7563541,-11.68354 c -0.120449,-0.36134 -0.120449,-0.72269 -0.240899,-0.96359 1.445395,-0.48179 2.8907789,-0.96358 4.3361629,-1.56583 1.565835,3.85436 4.215715,8.19052 7.226933,11.80399 -1.806732,1.44538 -3.854365,2.52942 -6.142896,3.49301 -2.408971,-5.1793 -4.3361539,-9.75635 -5.1793009,-12.76758 z m -0.963586,-38.18228 c -3.733917,14.33341 -5.29975103,25.41471 -4.57706303,33.48479 -1.56583507,0.24089 -3.01122007,0.48179 -4.45660407,0.60224 0.120449,-13.12894 0.963596,-28.18503 1.927183,-37.58005 1.084036,0.12045 2.28853107,0.12045 3.3725671,-0.12045 1.686284,-0.36135 3.372568,-0.60225 5.179301,-0.84313 -0.722697,1.68628 -1.084036,3.25211 -1.445384,4.4566 z M -8.961354,605.17566 c -2.047623,-0.12045 -3.854366,-0.36135 -5.54065,-0.60224 0.12045,-3.25213 0.12045,-22.40349 0.12045,-42.75935 2.288532,1.68629 4.817962,3.37257 7.467833,4.57706 -1.084036,9.395 -1.927183,25.1738 -2.047633,38.78453 z m -10.358602,-1.56584 c -2.77032,-0.7227 -4.456604,-1.44538 -4.456604,-1.44538 -0.120449,-0.12045 -0.240899,-0.12045 -0.481798,-0.12045 -0.361349,-4.69752 -2.168082,-12.64714 -4.817953,-23.12619 -1.445384,-5.90199 -2.77032,-11.44264 -3.372567,-14.81521 0.361348,-0.24089 0.602247,-0.48178 1.204485,-0.96358 2.047633,-1.80674 7.467833,-6.50424 11.322199,-4.57706 0.240889,0.12044 0.361339,0.24089 0.602238,0.36134 0.120449,20.59676 0.120449,39.74813 0,44.68653 z m -17.465086,-37.45959 c 0.722697,3.61346 1.927192,8.55187 3.131678,13.73117 2.168072,8.91321 5.179301,21.19899 4.697503,24.45112 -0.240899,1.80672 -1.204495,4.6975 -2.408981,8.31096 -2.047623,5.902 -4.817953,14.33342 -6.986035,25.17381 -0.120439,-9.03366 -0.361339,-16.62194 -0.843137,-20.2354 -3.372567,-27.70324 -2.890779,-33.12344 -2.64987,-34.08703 0.361348,-1.56583 1.806733,-6.26334 3.252118,-11.0813 0.602238,-2.04762 1.204486,-4.2157 1.806724,-6.26333 z m 1.686293,80.21893 c 0.843137,-6.02244 2.047623,-11.44264 3.252118,-16.2606 0,0 0,0 0,0 0.481789,0.12045 4.577054,0.60225 10.358603,0.96359 -0.963597,11.5631 -2.168082,22.40349 -2.77033,24.21022 -0.12044,0.12045 -0.12044,0.36135 -0.12044,0.4818 -6.142897,-2.40897 -11.081309,-3.61347 -11.563098,-3.73392 0,0 0,0 0,0 0.361349,-1.80673 0.602248,-3.73391 0.843147,-5.66109 z m 58.779035,0.48179 c -1.084046,-1.92718 -6.142898,-11.32219 -10.599501,-20.59675 2.649881,-1.20449 5.058851,-2.52942 7.226933,-4.33616 0.722697,0.7227 1.445385,1.44539 2.288522,2.04764 2.047642,5.1793 4.697512,11.68353 7.588283,18.91047 -0.12045,0 -0.24089,0.12044 -0.481799,0.12044 -2.047623,1.08404 -4.095256,2.40898 -6.022438,3.85436 z M 13.321684,600.3577 c 0.240899,-2.40898 2.047633,-7.46783 3.854365,-12.04488 0.24089,9.51546 0.843147,20.95809 1.324936,23.96932 -3.252118,-4.6975 -5.4202,-9.63592 -5.179301,-11.92444 z m 9.033667,-73.95559 c 0,0 0,0 0,0 -0.481799,1.08404 -9.274566,21.07855 -14.4538659,35.29151 -4.215705,0.36135 -7.58828203,0.96359 -7.82917203,1.08404 -0.602238,0.12045 -1.20449507,0.12045 -1.80673307,0.12045 0,-0.12045 0,-0.2409 0.120449,-0.4818 1.56583507,-10.3586 10.358603,-40.71171 11.081289,-43.24114 1.324936,0.24091 2.77032,0.36136 4.215715,0.36136 0.240899,0 0.602248,0 0.843137,0 0.240899,0 0.602248,-0.12045 0.843147,-0.12045 1.806732,2.64987 4.577052,5.17929 6.986034,6.98603 z m -25.173807,-78.6531 c 0.963586,-2.28852 3.8543561,-5.4202 8.1905201,-6.86559 1.324935,-0.48179 3.1316679,-0.84313 5.0588509,-0.84313 2.64987,0 5.781539,0.60223 9.274555,2.64987 10.960851,6.26333 5.058852,30.59401 1.084046,37.94139 -3.372577,6.02244 -11.683536,7.46782 -13.4902689,7.70872 -3.493017,-0.84315 -6.263347,-3.13167 -8.19053003,-6.98603 C -6.552373,470.75474 -4.50474,451.84427 -2.818456,447.74901 Z m 4.0952551,53.84063 c 1.324935,-2.64987 1.686284,-6.50423 1.806733,-9.6359 1.204486,0.60224 2.408972,0.96358 3.613467,1.20448 0.12045,0 0.361349,0 0.481798,0 0.12045,0 0.12045,0 0.240899,0 0.24089,0 3.1316679,-0.36135 6.6246849,-1.56583 -0.361348,4.09526 -0.843146,9.27457 -1.324935,10.8404 -0.843147,2.77032 -0.963596,7.82917 0.361339,12.28577 -9.2745549,-0.24088 -14.212967,-5.66108 -15.658352,-7.46783 1.565834,-1.32493 2.52943107,-3.25211 3.8543661,-5.66109 z m -9.5154561,7.70873 c 0.361339,0 0.843138,-0.12045 1.204486,-0.12045 0,0 0,0 0,0.12045 0.240899,0.36134 3.974816,6.02244 11.8039871,8.91322 -1.084036,3.73391 -9.5154551,32.40073 -11.2017491,43.36157 -1.686274,-0.96357 -3.493007,-2.16807 -5.299741,-3.493 -0.843147,-0.60225 -1.806733,-1.20449 -2.77033,-1.92719 0,-21.199 -0.120449,-42.27754 -0.120449,-47.21594 2.408981,0.36134 4.697513,0.48179 6.383796,0.36134 z m -11.081299,-1.44538 c 0,0 0,0 0,0 0,10.71994 0,28.30548 0.120449,45.6501 -5.29974,-1.56583 -10.599491,2.04764 -13.61072,4.57707 -0.120449,-2.04764 0,-4.21572 0,-6.50424 0,0 0,0 0,0 0,-0.2409 0,-0.36135 0,-0.60225 0.361349,-7.46782 1.686284,-14.69476 3.372568,-16.50149 4.336164,-4.81796 5.058861,-17.58553 5.179301,-21.43989 0.120449,-2.77033 -1.565834,-5.78156 -3.131669,-7.94963 0.481798,0.12045 0.843147,0.2409 1.324935,0.36135 1.565845,0.96359 4.095265,1.80672 6.745136,2.40898 z m -31.196247,99.3703 c -1.565834,-8.91322 -0.843146,-18.79002 0,-21.9217 0.602238,-2.64987 1.324936,-6.26334 1.927174,-9.99725 0.722697,-4.21571 1.565844,-9.03366 2.64988,-13.49027 0.963586,-4.09526 2.168082,-12.88803 3.372568,-22.16259 1.324935,-10.23815 2.890769,-21.9217 3.974815,-25.1738 1.204486,-3.61347 3.252118,-6.50425 5.901989,-8.07008 1.686293,1.80673 3.733916,4.6975 3.613466,6.62469 -0.240899,6.98603 -1.565834,15.65834 -3.974815,18.30822 -2.77032,3.13167 -4.215705,11.56309 -4.577053,19.63316 -0.481799,2.89077 -3.372568,12.40624 -5.6611,19.99451 -1.565834,5.1793 -2.890769,9.63591 -3.372558,11.44264 -0.843147,3.37258 0.12044,15.41746 2.529421,35.77331 1.084036,8.79277 0.963587,44.56608 0.963587,56.37006 v 1.68629 c 0,0 0,0.12045 0,0.12045 0,0 0,0 0,0 v 1.20448 c 0,6.02245 1.445394,9.39501 2.52943,11.92444 0.361349,0.84315 0.722688,1.56583 0.963587,2.40898 0.481798,1.44538 0.843147,2.89077 1.084046,4.2157 -0.12045,-0.36134 -0.240899,-0.72269 -0.481798,-1.08404 -0.240899,-0.72269 -0.963587,-1.32494 -1.686284,-1.44539 -0.843137,-0.12044 -1.565834,0.12045 -2.168072,0.60225 -2.168092,2.16808 -3.493027,13.12892 -3.613477,19.03092 -0.843137,-6.02245 0,-14.45387 0.843147,-22.64439 0.481798,-4.81795 1.084036,-9.8768 1.204486,-14.3334 0.602247,-13.49027 -4.336164,-59.26085 -6.022439,-69.01719 z m 34.930163,109.60845 c -4.938402,12.64712 -27.221441,72.992 -29.750861,81.30297 -2.408982,7.94963 -8.190521,18.91047 -10.117713,20.83766 -1.445385,1.44538 -2.168073,5.05885 -3.974806,18.42867 -1.565834,11.32219 -3.613467,25.29426 -6.383787,31.43715 -5.058851,10.96085 -21.319453,70.46258 -20.235413,86.84362 0.36134,6.26335 0.60224,12.04489 0.7227,17.10374 0.24089,7.94959 0.48179,14.21295 1.32493,18.42865 0.48179,2.5294 0.60224,5.7816 0.60224,8.9132 0.12045,4.9384 0.2409,9.636 2.16808,12.4063 0.84314,1.2045 1.08404,1.8067 1.20449,2.168 -0.4818,0.241 -1.92718,0.6023 -5.54065,0.6023 h -6.02243 c -0.4818,-1.4454 -1.20448,-3.3726 -2.40898,-5.4202 -1.20448,-1.9272 -0.84314,-4.0952 -0.12045,-7.9496 0.12045,-0.7227 0.2409,-1.5659 0.4818,-2.2886 0.2409,-1.3249 0.84315,-2.6498 1.56583,-4.2156 1.56585,-3.3726 3.49301,-7.4679 3.01122,-14.57442 -0.4818,-8.31093 2.16808,-36.25506 3.73392,-52.99745 0.24089,-2.52943 0.48179,-4.93841 0.60224,-6.86558 0.24089,-3.01123 0.60224,-6.98605 0.96358,-11.68354 1.4454,-18.18779 3.73392,-48.66134 7.949635,-59.98353 1.686274,-4.57706 4.336159,-10.35861 7.106479,-16.38105 5.901998,-13.00848 12.526684,-27.70323 13.008482,-36.496 0.602238,-11.92444 8.19052,-62.99475 10.479052,-75.64188 1.084036,-0.24089 2.168072,-0.72269 3.011219,-1.68629 0.843137,-0.96359 1.084036,-2.16807 0.722697,-3.49301 -0.361348,-1.56583 0.24089,-8.31098 1.084037,-13.12893 1.445384,1.92718 2.408971,2.16808 2.890769,2.28853 0.963587,0.2409 1.927183,0 2.77033,-0.72269 3.131659,-2.77032 0.722687,-11.08129 -0.12045,-13.61072 -0.361348,-0.96359 -0.722697,-1.92719 -1.084046,-2.77033 -1.084036,-2.40897 -2.168082,-5.05885 -2.168082,-10.1177 v -1.20448 c 0,-0.4818 0.12045,-6.26335 1.806744,-19.63317 3.372558,0.96359 22.764827,6.50423 29.871301,15.297 -0.843137,5.54065 -4.577044,33.00299 -9.154107,44.80698 z m 60.706218,154.17453 c -1.084036,10.71995 -3.011219,35.65286 -4.577053,57.57455 -1.324935,18.06732 -2.649871,35.05062 -3.011219,37.58004 -0.722697,4.6975 -0.240899,13.36978 0,20.47634 0.120449,1.8067 0.120449,3.4929 0.240899,4.8179 0.240899,7.1065 1.927173,14.5743 4.095255,18.4287 0.722697,1.3249 0.602248,3.0112 0.361349,4.2157 H 26.811954 c 0.240899,-0.8432 0.722697,-2.2886 1.084036,-3.3726 0.361349,-1.0841 0.843147,-2.409 1.324946,-3.7339 1.324935,-4.4566 2.649871,-18.79 3.974806,-34.5688 0.361348,-4.6975 0.722697,-8.67232 0.843147,-9.75636 0.602238,-3.97481 2.408981,-27.22144 1.084036,-48.66134 -1.445385,-21.31944 -3.974806,-79.37579 -3.854356,-82.14611 0.602238,-8.07007 0.120449,-14.81521 -1.324936,-20.11496 -0.963596,-3.37256 -1.806744,-12.28578 -2.89078,-21.56034 -1.204486,-10.71995 -2.288531,-21.68079 -3.733916,-27.46234 -2.529421,-10.5995 -15.297003,-90.93888 -15.4174519,-91.78202 0,-0.12045 0,-0.12045 -0.12045,-0.2409 3.4930169,-4.93841 13.4902699,-18.06734 24.0897719,-23.36708 0,0 0.120449,0 0.120449,-0.12045 1.806733,4.21571 3.613467,8.67232 5.420191,13.00848 1.204495,2.77032 2.047642,4.93841 2.408981,5.90199 1.565834,3.85436 0.602247,9.39501 0.240899,11.08129 -5.058852,6.3838 -7.106484,14.21297 -4.456604,17.10374 0.602238,0.72269 1.565834,1.08404 2.408981,1.08404 0.481788,0 1.565834,-0.12045 3.372558,-1.80674 -0.361339,3.37258 -1.084036,8.43143 -2.529421,15.89926 -0.481798,2.28853 0,3.97481 1.084036,5.1793 0.361349,0.36135 0.843147,0.60224 1.204486,0.84314 -0.12044,10.71994 -2.047623,47.5773 -2.408972,52.87705 0,0.4818 -0.120449,1.08404 -0.120449,1.80673 -0.602238,8.19052 -2.64988,33.12343 0.843147,47.93864 3.493017,14.69477 7.708722,33.00299 5.661089,52.87705 z m 4.456614,-187.65932 c -0.361349,1.92719 -0.722697,4.33616 -1.204486,6.98605 -0.602247,3.7339 -1.324945,8.4314 -1.927192,9.87679 -0.361339,0.84315 -0.602238,2.04764 -1.084037,3.37258 -0.361348,1.08403 -0.843137,2.89077 -1.324935,4.4566 2.168082,-11.68354 2.89077,-18.79002 2.408972,-21.92169 -0.12045,-0.96359 -0.963587,-1.68628 -1.927174,-1.92718 -0.963596,-0.2409 -1.927183,0.2409 -2.408981,1.08404 -0.843147,1.32494 -1.806733,2.64987 -2.64987,3.61346 0.481788,-2.28852 1.927173,-5.6611 4.697503,-9.03366 0.240899,-0.2409 0.361348,-0.60224 0.481798,-0.96359 0.120449,-0.36134 2.168072,-8.43141 -0.240899,-14.57431 -0.361349,-0.9636 -1.204486,-3.01122 -2.408981,-5.902 -3.372568,-8.07007 -10.599492,-25.41471 -15.056106,-36.73689 0,0 0,0 0,-0.12045 -2.047633,-5.17931 -3.493017,-9.03367 -3.613467,-10.23816 -0.722697,-4.57705 -1.686284,-32.76208 -1.204486,-35.53241 0.12045,-0.72269 -0.120449,-1.44538 -0.481798,-1.92717 1.927183,-1.92719 3.613467,-3.97482 4.215714,-4.57706 0.240899,-0.2409 0.361349,-0.48179 0.481789,-0.84314 1.084046,-3.37257 1.686284,-12.16534 1.927183,-15.17656 2.288532,-2.40898 4.336165,-6.62469 6.022449,-10.47905 -0.843147,13.61072 -3.974816,52.2748 -5.420201,58.17679 -1.565835,6.50425 4.456604,24.21022 9.756355,37.82094 1.565834,3.85437 4.577063,14.33342 6.745135,21.80124 1.324936,4.45662 2.288532,7.70873 2.649871,8.79277 0.722697,3.49302 2.408981,9.75636 1.565844,13.97206 z" class="st0" inkscape:connector-curvature="0" style="fill:#cccccc;stroke-width:0.99999994"/>
      <text id="text821" font-weight="bold" font-size="5px" y="620" x="0" style="font-weight:bold;font-size:5px;font-family:'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif;fill:#000000"/>
    </g>
  </g>
  <style id="style815" type="text/css">
	.st0{fill:#1D1D1B;}
</style>
</svg>
    
    <canvas id="myCanvas" width="240px" height="620px" style="position: absolute;left: 0px; top:0px; z-index: 2;"></canvas>
  </div>
      </div>
    </div>
  </div>
  

  
    
   
</body>

<script>
    // setting up the canvas and one paper tool
    var canvas = document.getElementById('myCanvas');
    paper.setup(canvas);
    var tool = new paper.Tool();
    // getting the URL (you may want to use for Exercise 3)
    var url = window.location.href;
    
    // create a new websocket connecting to the server
    var socket = new WebSocket('ws://p4-20stellaw-20stellaw809910.codeanyapp.com:8765/');
    paths = {};
    var main = new paper.Path();
  
    socket.onopen = function(event) {
      if (url.includes("large")) {
        var btn = document.getElementById("button");
        btn.style.display = "none";
      }
      if (url.includes("small")) {
        var id = Math.random() * 100;
        var path = new paper.Path();
        path.strokeWidth = 5;
        path.strokeColor = 'black';
        paths[id] = path;
        tool.onMouseDrag = function(event) {
            paper.project.activeLayer.addChild(path);

            var data = {
                userID: id.toString(),
                x: event.point.x,
                y: event.point.y,
                send: false
            };
            socket.send(JSON.stringify(data));
        };
      }
    }
    
    socket.onmessage = function(event) {
      
        var msg = JSON.parse(event.data);
      
        var userID = msg["userID"];
        var x = msg["x"];
        var y = msg["y"];
        var send = msg["send"];
        
        if (send) {
            Object.keys(paths).forEach(function(key) {
            paths[key].opacity = 1;
            console.log(paths[key]);
            })
        } else {
            var point = new paper.Point(x, y);
      
        if (url.includes("large")) {
            // displays all paths
            if (Object.keys(paths).includes(userID)) {
                paths[userID].add(point);
                main = paths[userID];
            } else {
                var newPath = new paper.Path();
                newPath.strokeWidth = 5;
                newPath.strokeColor = 'black';
                newPath.opacity = 0;
                paths[userID] = newPath;
                main = newPath;
                newPath.add(point);
            }
        }
        else if (url.includes("small")){
            // displays only current path
            paths[userID].add(point);
            main = paths[userID];
        } else {
            if (Object.keys(paths).includes(userID)) {
                paths[userID].add(point);
                main = paths[userID];
            } else {
                var newPath = new paper.Path();
                newPath.strokeWidth = 5;
                newPath.strokeColor = 'black';
                paths[userID] = newPath;
                main = newPath;
                newPath.add(point);
            }
        }
        }
      
    }
    function sendDesign() {
          var data = {
                userID: false,
                x: false,
                y: false,
                send: true
            };
            socket.send(JSON.stringify(data));
        }
    
    
    
</script>
</html>